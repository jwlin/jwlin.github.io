---
layout: post
title: 事求人開放資料版網站新增功能
categories: Programming
tags:
  - 事求人
  - 開放資料
  - opencpa
---

距離[總處事求人開放資料版](http://opencpa.castman.net)網站[上線](https://www.ptt.cc/bbs/PublicServan/M.1409529482.A.9D3.html)已經超過一年半了，期間經歷了各種奇怪的阻礙，例如：

* 時不時就抓不到資料 (當天沒資料的話網站只能開天窗)
* 突然改變資料開放的方式，從可以直接 GET 變成要從網頁 POST (後來又改回來了)
* 總處主機突然擋起了國外 ip (我也想架在台灣但 AWS 在台灣沒有主機呀)
* 除了我以外，也看到其他人要求總處增加開放資料的頻率，從每日更新一次到每日兩次等，不做就是不做，還把每日新增職缺貼在總處的 fb 頁面上，我是不太懂為什麼他們寧願人工張貼資料，也不願意讓機器自動從資料庫重新產製開放資料就好... (2016-06-02 更新: 現在資料改成每日產製兩次囉! 幫總處同仁按個讚!)

透過民意信箱跟總處打了多次交道，雖然官僚難免，但總的來說服務還是滿周到的，反應的問題大部分都有解決。

開始收集每天的開缺資料也已經超過一年了，為了慶祝即將上任的副人事長是資訊背景，人事資訊化將大有可為(？)，花了兩天增修了網站的一些統計功能：

* 新增各機關開缺數查詢：先點選機關，再點選職系，最後可看到開缺細節。所有表格皆可搜尋及自由排序欄位
* 修改各職系開缺數查詢：改以表格呈現，並可看到該職系開缺機關，可搜尋及自由排序欄位
* 職缺特殊條件新增「✔同意開放簡歷」，對應原總處「請注意：本職缺啟用現職應徵人員調閱簡歷功能，現職應徵者需同意開放簡歷給徵才機關調閱」條件

有了職系開缺數查詢，如果你想轉職系，或是朋友在選考公職職系時，可以來看看該職系是否常常開缺，最常開缺的機關是那些，從而了解是否容易調動；至於各機關開缺數查詢的使用時機更廣，例如：

* 你很想調到某機關，想知道他們有沒有在事求人開過缺 (例如央行從不開外補)
* 你看到某機關開缺了，想知道該機關是否一天到晚在找人

這邊要注意的是很多機關的缺是掛在上級機關下 (例如北市國中小人事室主任的缺都是北市府人事處開的)，因此要找此類職缺必須先從上級機關 (例如北市府人事處) 找起，職缺列表的工作地址會註明真正的工作機關，並請善用關鍵字搜尋，如下圖。

![opencpa-1](https://raw.githubusercontent.com/jwlin/jwlin.github.io/master/images/opencpa-1.png)

職缺列表的順序是從開缺日期最近的缺開始，但所有表格的每個欄位都可以自由排序。

總處的開放資料內容其實滿亂的，因為不是每個張貼職缺的人都會依照格式輸入，我只用了一些簡單的規則去判斷職缺結構，爬梳結果難免有不完整的地方 (例如職等判斷錯誤或留下了非公務人員的職缺職系等)，不過就先頂著用吧。另有關本站目前的匿名留言功能，我一開始是希望有身分認證，然後讓大家可以私密地交換有意義的資訊，不過我早期測試的結果顯示很少人想要曝光，而且 fb 的封閉社團或 line 群組就已經可以實現這個想法，所以就不做了。網站未來增修的方向：

1. 把考試缺資訊一起整合進來，機關用人的全貌會更完整 (之前有收到一位朋友來信，似乎正在做這部分的功能)
2. 附上 Ptt 針對某機關某職系的討論文章

不過實作日大概也是遙遙無期吧。